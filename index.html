<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thermal Studio</title>
    <meta name="description" content="Modern design studio for thermal printers. Create receipts, labels, and notes.">
    
    <link rel="stylesheet" href="css/modern.css">
    
    <!-- Dependencies -->
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>
<body>
    <header>
        <h1>Thermal Studio</h1>
        <div class="header-controls">
            <div id="batteryIndicator" class="battery-indicator" style="display:none">
                <span>ğŸ”‹</span> <span id="batteryLevel">--%</span>
            </div>
            <button id="settingsBtn" class="btn btn-secondary" aria-label="Settings">âš™ï¸</button>
            <button id="connectBtn" class="btn btn-primary">Connect</button>
            <button id="printBtn" class="btn btn-primary" disabled>Print</button>
        </div>
        
        <!-- Settings Popover -->
        <div id="settingsPopover" class="settings-popover">
            <div class="settings-row">
                <label for="printDensity">Print Density (Intensity)</label>
                <div style="display: flex; gap: 8px; align-items: center;">
                    <input type="range" id="printDensity" min="0" max="255" value="93" style="flex:1">
                    <span id="printDensityDisplay" style="font-size: 0.8rem; width: 30px;">93</span>
                </div>
            </div>
             <div class="settings-row">
                <label>Debug</label>
                <button id="clearLogBtn" class="btn btn-secondary" style="width: 100%; font-size: 0.7rem;">Clear Log</button>
            </div>
            <div class="settings-row">
                <label>About</label>
                <div style="font-size: 0.75rem; color: #666; line-height: 1.2;">
                    Thermal Studio<br>
                    MXW01 / Cat Printer Driver
                </div>
            </div>
        </div>
    </header>

    <main>
        <div id="paper-roll">
            <div id="blocksContainer"></div>
            <div id="emptyState" class="empty-state">
                <p>Your canvas is empty.</p>
                <p style="font-size: 0.8rem; margin-top: 8px;">Add blocks to design your print.</p>
            </div>
        </div>
    </main>

    <div class="fab-container" role="toolbar" aria-label="Add content blocks">
        <button id="addTextBtn" class="fab-btn" title="Add Text" aria-label="Add Text Block">
            <span style="display:block; font-weight:bold; font-size: 1.2rem;">T</span>
        </button>
        <button id="addImageBtn" class="fab-btn" title="Add Image" aria-label="Add Image Block">
            <span style="display:block; font-size: 1.2rem;">ğŸ“·</span>
        </button>
        <button id="addQRBtn" class="fab-btn" title="Add QR Code" aria-label="Add QR Code Block">
            <span style="display:block; font-size: 1.2rem;">ğŸ</span>
        </button>
    </div>

    <script type="module" src="js/main.js"></script>
</body>
</html>
